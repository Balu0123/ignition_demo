{
  "custom": {
    "data": [
      {
        "aggregate": "Average",
        "alias": "OEE",
        "path": "[Test_Tags]Exchange/PerspectiveOEEDashboard/OEEDashboardExample/OEE"
      },
      {
        "aggregate": "Average",
        "alias": "Availability",
        "path": "[Test_Tags]Exchange/PerspectiveOEEDashboard/OEEDashboardExample/Availability"
      },
      {
        "aggregate": "Average",
        "alias": "Performance",
        "path": "[Test_Tags]Exchange/PerspectiveOEEDashboard/OEEDashboardExample/Performance"
      },
      {
        "aggregate": "Average",
        "alias": "Quality",
        "path": "[Test_Tags]Exchange/PerspectiveOEEDashboard/OEEDashboardExample/Quality"
      }
    ],
    "dateRange": {
      "end": {
        "$": [
          "ts",
          192,
          1770115717625
        ],
        "$ts": 1767324600000
      },
      "now": {
        "$": [
          "ts",
          192,
          1770115717625
        ],
        "$ts": 1770115717625
      },
      "start": {
        "$": [
          "ts",
          192,
          1770115717625
        ],
        "$ts": 1767295800000
      }
    }
  },
  "params": {
    "colorRanges": [
      {
        "color": "#de1b1b",
        "end": 65,
        "start": 0
      },
      {
        "color": "#e89c3f",
        "end": 85,
        "start": 65
      },
      {
        "color": "#1ec963",
        "end": 100,
        "start": 85
      }
    ],
    "colors": {
      "availability": "#63BEA2",
      "oee": "#509FC6",
      "performance": "#8F9FC9",
      "quality": "#E88CC2"
    },
    "currentDateTimeShow": true,
    "dateRange": {
      "end": "auto",
      "start": {
        "$": [
          "ts",
          0,
          1770096037483
        ],
        "$ts": 1767295800000
      }
    },
    "path": "[Test_Tags]Exchange/PerspectiveOEEDashboard/OEEDashboardExample",
    "settingsEnable": true,
    "settingsShow": false,
    "valuesToDisplay": {
      "availability": true,
      "oee": true,
      "performance": true,
      "quality": true
    }
  },
  "propConfig": {
    "custom.data": {
      "binding": {
        "config": {
          "struct": {
            "path": "{view.params.path}",
            "valuesToDisplay": "{view.params.valuesToDisplay}"
          },
          "waitOnAll": true
        },
        "transforms": [
          {
            "code": "\tdata \u003d []\n\toptions \u003d [\"OEE\", \"Availability\", \"Performance\", \"Quality\"]\n\tfor item in options:\n\t\tif value.valuesToDisplay[item.lower()]:\n\t\t\tdata.append({\n\t\t\t  \"aggregate\": \"Average\",\n\t\t\t  \"alias\": item,\n\t\t\t  \"path\": value.path + \"/\" + str(item)\n\t\t\t})\n\t\n\treturn data",
            "type": "script"
          }
        ],
        "type": "expr-struct"
      },
      "persistent": true
    },
    "custom.dateRange": {
      "binding": {
        "config": {
          "struct": {
            "end": "{view.params.dateRange.end}",
            "start": "{view.params.dateRange.start}",
            "update": "now(30000)"
          },
          "waitOnAll": true
        },
        "transforms": [
          {
            "code": "\tstart \u003d \"\"\n\tend \u003d \"\"\n\t\n\tif value.start \u003d\u003d \"auto\" and value.end !\u003d \"auto\":\n\t\tend \u003d value.end\n\t\tstart \u003d system.date.addHours(end, -8)\n\telif value.end \u003d\u003d \"auto\" and value.start !\u003d \"auto\":\n\t\tstart  \u003d  value.start\n\t\tend \u003d system.date.addHours(start, 8)\n\telif value.start \u003d\u003d \"auto\" and value.end \u003d\u003d \"auto\":\n\t\tstart \u003d system.date.addHours(system.date.now(), -8)\n\t\tend \u003d system.date.now()\n\t\n\telse:\n\t\tstart \u003d value.start\n\t\tend \u003d value.end\n\t\n\t\n\treturn {\"start\":start, \"end\":end, \"now\":value.update}\n\t",
            "type": "script"
          }
        ],
        "type": "expr-struct"
      },
      "persistent": true
    },
    "params.colorRanges": {
      "paramDirection": "input",
      "persistent": true
    },
    "params.colors": {
      "paramDirection": "input",
      "persistent": true
    },
    "params.currentDateTimeShow": {
      "paramDirection": "input",
      "persistent": true
    },
    "params.dateRange": {
      "paramDirection": "inout",
      "persistent": true
    },
    "params.path": {
      "paramDirection": "input",
      "persistent": true
    },
    "params.settingsEnable": {
      "paramDirection": "input",
      "persistent": true
    },
    "params.settingsShow": {
      "paramDirection": "input",
      "persistent": true
    },
    "params.valuesToDisplay": {
      "paramDirection": "input",
      "persistent": true
    }
  },
  "props": {
    "defaultSize": {
      "height": 1200,
      "width": 1200
    }
  },
  "root": {
    "children": [
      {
        "children": [
          {
            "events": {
              "dom": {
                "onClick": {
                  "config": {
                    "script": "\tif self.view.params.settingsShow:\n\t\tself.view.params.settingsShow \u003d False\n\telse:\n\t\tself.view.params.settingsShow \u003d True"
                  },
                  "scope": "G",
                  "type": "script"
                }
              }
            },
            "meta": {
              "name": "Icon",
              "tooltip": {
                "enabled": true,
                "text": "Show/Hide Settings"
              }
            },
            "position": {
              "basis": "30px"
            },
            "props": {
              "path": "material/settings"
            },
            "type": "ia.display.icon"
          }
        ],
        "meta": {
          "name": "SettingsBar"
        },
        "position": {
          "basis": "30px",
          "shrink": 0
        },
        "propConfig": {
          "position.display": {
            "binding": {
              "config": {
                "path": "view.params.settingsEnable"
              },
              "type": "property"
            }
          }
        },
        "props": {
          "justify": "flex-end"
        },
        "type": "ia.container.flex"
      },
      {
        "children": [
          {
            "children": [
              {
                "meta": {
                  "name": "Label"
                },
                "position": {
                  "basis": "30px"
                },
                "props": {
                  "text": "Values to Display",
                  "textStyle": {
                    "textAlign": "center"
                  }
                },
                "type": "ia.display.label"
              },
              {
                "children": [
                  {
                    "children": [
                      {
                        "meta": {
                          "name": "OEEToggleSwitch"
                        },
                        "position": {
                          "basis": "36px"
                        },
                        "propConfig": {
                          "props.selected": {
                            "binding": {
                              "config": {
                                "bidirectional": true,
                                "path": "view.params.valuesToDisplay.oee"
                              },
                              "type": "property"
                            }
                          }
                        },
                        "props": {
                          "label": {
                            "text": "OEE"
                          }
                        },
                        "type": "ia.input.toggle-switch"
                      },
                      {
                        "meta": {
                          "name": "AvailabilityToggleSwitch"
                        },
                        "position": {
                          "basis": "36px"
                        },
                        "propConfig": {
                          "props.selected": {
                            "binding": {
                              "config": {
                                "bidirectional": true,
                                "path": "view.params.valuesToDisplay.availability"
                              },
                              "type": "property"
                            }
                          }
                        },
                        "props": {
                          "label": {
                            "text": "Availability"
                          }
                        },
                        "type": "ia.input.toggle-switch"
                      }
                    ],
                    "meta": {
                      "name": "LeftOptions"
                    },
                    "position": {
                      "grow": 1
                    },
                    "props": {
                      "direction": "column"
                    },
                    "type": "ia.container.flex"
                  },
                  {
                    "children": [
                      {
                        "meta": {
                          "name": "PerformanceToggleSwitch"
                        },
                        "position": {
                          "basis": "36px"
                        },
                        "propConfig": {
                          "props.selected": {
                            "binding": {
                              "config": {
                                "bidirectional": true,
                                "path": "view.params.valuesToDisplay.performance"
                              },
                              "type": "property"
                            }
                          }
                        },
                        "props": {
                          "label": {
                            "text": "Performance"
                          }
                        },
                        "type": "ia.input.toggle-switch"
                      },
                      {
                        "meta": {
                          "name": "QualityToggleSwitch"
                        },
                        "position": {
                          "basis": "36px"
                        },
                        "propConfig": {
                          "props.selected": {
                            "binding": {
                              "config": {
                                "bidirectional": true,
                                "path": "view.params.valuesToDisplay.quality"
                              },
                              "type": "property"
                            }
                          }
                        },
                        "props": {
                          "label": {
                            "text": "Quality"
                          }
                        },
                        "type": "ia.input.toggle-switch"
                      }
                    ],
                    "meta": {
                      "name": "RightOptions"
                    },
                    "position": {
                      "basis": "200px"
                    },
                    "props": {
                      "direction": "column"
                    },
                    "type": "ia.container.flex"
                  }
                ],
                "meta": {
                  "name": "RowFlex"
                },
                "position": {
                  "basis": "150px"
                },
                "type": "ia.container.flex"
              }
            ],
            "meta": {
              "name": "ValuesFlex"
            },
            "position": {
              "basis": "500px",
              "grow": 1
            },
            "props": {
              "direction": "column",
              "style": {
                "marginLeft": 20
              }
            },
            "type": "ia.container.flex"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "meta": {
                      "name": "Label"
                    },
                    "position": {
                      "basis": "150px",
                      "grow": 1
                    },
                    "props": {
                      "text": "Start Date and Time",
                      "textStyle": {
                        "textAlign": "center"
                      }
                    },
                    "type": "ia.display.label"
                  },
                  {
                    "events": {
                      "dom": {
                        "onClick": {
                          "config": {
                            "script": "\tself.view.params.dateRange.start \u003d \"auto\""
                          },
                          "scope": "G",
                          "type": "script"
                        }
                      }
                    },
                    "meta": {
                      "name": "Button",
                      "tooltip": {
                        "enabled": true,
                        "text": "Reset Start Time"
                      }
                    },
                    "position": {
                      "basis": "40px"
                    },
                    "props": {
                      "image": {
                        "icon": {
                          "path": "material/restore"
                        }
                      },
                      "style": {
                        "marginRight": 10
                      },
                      "text": ""
                    },
                    "type": "ia.input.button"
                  }
                ],
                "meta": {
                  "name": "FlexContainer"
                },
                "position": {
                  "basis": "50px",
                  "grow": 1
                },
                "type": "ia.container.flex"
              },
              {
                "meta": {
                  "name": "DateTimeInput"
                },
                "position": {
                  "basis": "50px"
                },
                "propConfig": {
                  "props.value": {
                    "binding": {
                      "config": {
                        "bidirectional": true,
                        "path": "view.params.dateRange.start"
                      },
                      "type": "property"
                    }
                  }
                },
                "props": {
                  "formattedValue": "Jan 1, 2026 7:30 PM",
                  "style": {
                    "marginLeft": 10,
                    "marginRight": 10,
                    "marginTop": 10
                  }
                },
                "type": "ia.input.date-time-input"
              }
            ],
            "meta": {
              "name": "StartDate"
            },
            "position": {
              "basis": "200px",
              "grow": 1
            },
            "props": {
              "direction": "column",
              "style": {
                "marginLeft": 20
              }
            },
            "type": "ia.container.flex"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "meta": {
                      "name": "Label"
                    },
                    "position": {
                      "basis": "150px",
                      "grow": 1
                    },
                    "props": {
                      "text": "End Date and Time",
                      "textStyle": {
                        "textAlign": "center"
                      }
                    },
                    "type": "ia.display.label"
                  },
                  {
                    "events": {
                      "dom": {
                        "onClick": {
                          "config": {
                            "script": "\tself.view.params.dateRange.end \u003d \"auto\""
                          },
                          "scope": "G",
                          "type": "script"
                        }
                      }
                    },
                    "meta": {
                      "name": "Button",
                      "tooltip": {
                        "enabled": true,
                        "text": "Reset End Time"
                      }
                    },
                    "position": {
                      "basis": "40px"
                    },
                    "props": {
                      "image": {
                        "icon": {
                          "path": "material/restore"
                        }
                      },
                      "style": {
                        "marginRight": 10
                      },
                      "text": ""
                    },
                    "type": "ia.input.button"
                  }
                ],
                "meta": {
                  "name": "FlexContainer"
                },
                "position": {
                  "basis": "50px",
                  "grow": 1
                },
                "type": "ia.container.flex"
              },
              {
                "meta": {
                  "name": "DateTimeInput"
                },
                "position": {
                  "basis": "50px"
                },
                "propConfig": {
                  "props.value": {
                    "binding": {
                      "config": {
                        "bidirectional": true,
                        "path": "view.params.dateRange.end"
                      },
                      "type": "property"
                    }
                  }
                },
                "props": {
                  "formattedValue": "Feb 2, 2026 12:00 AM",
                  "style": {
                    "marginLeft": 10,
                    "marginRight": 10,
                    "marginTop": 10
                  }
                },
                "type": "ia.input.date-time-input"
              }
            ],
            "meta": {
              "name": "EndDate"
            },
            "position": {
              "basis": "200px",
              "grow": 1
            },
            "props": {
              "direction": "column",
              "style": {
                "marginLeft": 20
              }
            },
            "type": "ia.container.flex"
          }
        ],
        "meta": {
          "name": "Settings"
        },
        "position": {
          "basis": "120px"
        },
        "propConfig": {
          "position.display": {
            "binding": {
              "config": {
                "bidirectional": true,
                "path": "view.params.settingsShow"
              },
              "type": "property"
            }
          }
        },
        "props": {
          "alignContent": "space-between",
          "justify": "center",
          "style": {
            "backgroundColor": "var(--neutral-30)",
            "borderBottomLeftRadius": 20,
            "borderBottomRightRadius": 20,
            "borderTopLeftRadius": 20,
            "borderTopRightRadius": 20,
            "margin": 10,
            "padding": 10,
            "paddingBottom": 15,
            "paddingTop": 15
          }
        },
        "type": "ia.container.flex"
      },
      {
        "children": [
          {
            "meta": {
              "name": "Label"
            },
            "props": {
              "style": {
                "marginLeft": 10
              },
              "text": "Current Date and Time",
              "textStyle": {
                "fontWeight": "bold"
              }
            },
            "type": "ia.display.label"
          },
          {
            "meta": {
              "name": "DateAndTime"
            },
            "position": {
              "basis": "32px",
              "grow": 1
            },
            "propConfig": {
              "props.text": {
                "binding": {
                  "config": {
                    "path": "view.custom.dateRange.now"
                  },
                  "transforms": [
                    {
                      "formatType": "datetime",
                      "formatValue": {
                        "date": "medium",
                        "time": "short"
                      },
                      "type": "format"
                    }
                  ],
                  "type": "property"
                }
              }
            },
            "props": {
              "style": {
                "marginLeft": 10
              }
            },
            "type": "ia.display.label"
          }
        ],
        "meta": {
          "name": "CurrentDateAndTime"
        },
        "position": {
          "basis": "40px"
        },
        "propConfig": {
          "position.display": {
            "binding": {
              "config": {
                "path": "view.params.currentDateTimeShow"
              },
              "type": "property"
            }
          }
        },
        "props": {
          "style": {
            "backgroundColor": "var(--neutral-30)",
            "borderBottomLeftRadius": 20,
            "borderBottomRightRadius": 20,
            "borderTopLeftRadius": 20,
            "borderTopRightRadius": 20,
            "marginBottom": 5,
            "marginLeft": 10,
            "marginRight": 10,
            "padding": 10,
            "paddingBottom": 15,
            "paddingTop": 15
          }
        },
        "type": "ia.container.flex"
      },
      {
        "meta": {
          "name": "FlexRepeater"
        },
        "position": {
          "basis": "40px",
          "grow": 1,
          "shrink": 0
        },
        "propConfig": {
          "props.instances": {
            "binding": {
              "config": {
                "struct": {
                  "colorRanges": "{view.params.colorRanges}",
                  "colors": "{view.params.colors}",
                  "dateRange": "{view.custom.dateRange}",
                  "path": "{view.params.path}",
                  "valuesToDisplay": "{view.params.valuesToDisplay}"
                },
                "waitOnAll": true
              },
              "transforms": [
                {
                  "code": "\tdata \u003d []\n\toptions \u003d [\"OEE\", \"Availability\", \"Performance\", \"Quality\"]\n\tfor item in options:\n\t\tif value.valuesToDisplay[str(item).lower()]:\n\t\t\tdata.append({\n\t\t\t  \"instanceStyle\": {\n\t\t\t    \"classes\": \"\"\n\t\t\t  },\n\t\t\t  \"instancePosition\": {},\n\t\t\t  \"color\": value.colors[str(item).lower()],\n\t\t\t  \"colorRanges\": value.colorRanges,\n\t\t\t  \"graph\": False,\n\t\t\t  \"stats\": True,\n\t\t\t  \"dateRange\": value.dateRange,\n\t\t\t  \"name\": item,\n\t\t\t  \"path\": value.path + \"/\" + item\n\t\t\t})\n\t\n\treturn data",
                  "type": "script"
                }
              ],
              "type": "expr-struct"
            }
          }
        },
        "props": {
          "elementStyle": {
            "marginLeft": 5
          },
          "justify": "center",
          "path": "Exchange/PerspectiveOEEDashboard/EmbeddedViews/GaugeAndGraph",
          "style": {
            "marginBottom": 5,
            "marginRight": 5,
            "marginTop": 5
          },
          "useDefaultViewHeight": false,
          "useDefaultViewWidth": false
        },
        "type": "ia.display.flex-repeater"
      },
      {
        "meta": {
          "name": "TimeSeriesChart"
        },
        "position": {
          "basis": "150px",
          "grow": 1
        },
        "propConfig": {
          "props.defaultStyles.colors": {
            "binding": {
              "config": {
                "struct": {
                  "colors": "{view.params.colors}",
                  "valuesToDisplay": "{view.params.valuesToDisplay}"
                },
                "waitOnAll": true
              },
              "transforms": [
                {
                  "code": "\tdata \u003d []\n\toptions \u003d [\"OEE\", \"Availability\", \"Performance\", \"Quality\"]\n\tfor item in options:\n\t\tif value.valuesToDisplay[item.lower()]:\n\t\t\tdata.append(value.colors[item.lower()])\n\treturn data",
                  "type": "script"
                }
              ],
              "type": "expr-struct"
            }
          },
          "props.series[0].data": {
            "binding": {
              "config": {
                "aggregate": "MinMax",
                "avoidScanClassValidation": true,
                "dateRange": {
                  "endDate": "{view.custom.dateRange.end}",
                  "startDate": "{view.custom.dateRange.start}"
                },
                "enableValueCache": true,
                "ignoreBadQuality": false,
                "preventInterpolation": true,
                "returnFormat": "Wide",
                "returnSize": {
                  "delay": "1",
                  "delayUnits": "MIN",
                  "type": "INTERVAL"
                },
                "tags": "{view.custom.data}",
                "valueFormat": "DATASET"
              },
              "type": "tag-history"
            }
          }
        },
        "props": {
          "autoGenerateSeriesNames": true,
          "defaultStyles": {
            "colorScheme": "Spectral",
            "normal": {
              "stroke": {
                "width": 3
              }
            }
          },
          "legend": {
            "position": "top",
            "visible": true
          },
          "plots": [
            {
              "axes": [
                {
                  "alignment": "left",
                  "grid": {
                    "color": "",
                    "dashArray": 0,
                    "opacity": 0.9,
                    "style": {
                      "classes": ""
                    },
                    "visible": true
                  },
                  "label": {
                    "font": {
                      "color": "",
                      "size": 40
                    },
                    "offset": 10,
                    "style": {
                      "classes": ""
                    },
                    "text": "",
                    "visible": true
                  },
                  "max": 1,
                  "min": "auto",
                  "name": "value",
                  "style": {
                    "classes": ""
                  },
                  "tick": {
                    "color": "",
                    "count": "Auto",
                    "label": {
                      "font": {
                        "color": "",
                        "size": 14
                      },
                      "format": ".0%",
                      "style": {
                        "classes": ""
                      }
                    },
                    "style": {
                      "classes": ""
                    }
                  },
                  "width": 60
                }
              ],
              "markers": [
                {
                  "axis": "value",
                  "line": {
                    "color": "",
                    "dashArray": 0,
                    "label": {
                      "font": {
                        "color": "",
                        "size": 10
                      },
                      "position": "right",
                      "style": {
                        "classes": ""
                      },
                      "text": ""
                    },
                    "opacity": 0.5,
                    "style": {
                      "classes": ""
                    },
                    "width": 1
                  },
                  "type": "line",
                  "value": 0,
                  "visible": true
                }
              ],
              "relativeWeight": 1,
              "trends": [
                {
                  "axis": "value",
                  "baselines": [],
                  "breakLine": true,
                  "columns": [],
                  "interpolation": "curveLinear",
                  "radius": 2,
                  "series": "OEE Data",
                  "stack": false,
                  "type": "line",
                  "visible": true
                }
              ]
            }
          ],
          "series": [
            {
              "name": "OEE Data"
            }
          ],
          "timeAxis": {
            "grid": {
              "visible": true
            },
            "tick": {
              "label": {
                "font": {
                  "size": 15
                },
                "format": "h:mm A"
              }
            }
          },
          "xTrace": {
            "infoBox": {
              "dataFormat": "0.##%"
            }
          }
        },
        "type": "ia.chart.timeseries"
      }
    ],
    "meta": {
      "name": "root"
    },
    "props": {
      "direction": "column"
    },
    "type": "ia.container.flex"
  }
}